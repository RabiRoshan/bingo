(this.webpackJsonpbingo=this.webpackJsonpbingo||[]).push([[0],{15:function(n,e,t){n.exports=t(26)},20:function(n,e,t){},21:function(n,e,t){},23:function(n,e){function t(n){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id=23},26:function(n,e,t){"use strict";t.r(e);var r=t(0),o=t.n(r),c=t(9),a=t.n(c),i=(t(20),t(21),t(3)),u=t(1),l=t(10),f=t.n(l),d=t(2),s=t(5),v=t(11),b=new(t.n(v).a),m=Object(r.createContext)({numberBucket:[]}),p=function(n){var e=g(),t=Object(r.useState)(Array.from(Array(5),(function(n,t){return Array.from(Array(5),(function(n,r){return e[5*t+r]}))}))),c=Object(i.a)(t,2),a=c[0],u=c[1],l=Object(r.useState)(!0),f=Object(i.a)(l,2),d=f[0],v=f[1],p=Object(r.useState)(null),w=Object(i.a)(p,2),h=w[0],O=w[1],j=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=null===h?0:h;n?O(e-1):(O(e+1),y.opponentPeer.send({bingo:!0}))},k=function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?v(!0):(v(!1),y.opponentPeer.send({value:n}));var t=a.map((function(e){return e.map((function(e){return e.value===n&&(e.isMarked=!0),e}))}));u(t)},E=Object(r.useState)({peer:null,opponentPeer:null}),x=Object(i.a)(E,2),y=x[0],C=x[1];b.on("open",(function(n){console.log("Your peer ID is: ".concat(n)),C(Object(s.a)({},y,{peer:b}))})),b.on("disconnected",(function(){console.log("Disconnected from peer server"),C(Object(s.a)({},y,{peer:null}))})),b.on("connection",(function(n){return z(n)}));var z=function(n){console.log("Connecting to: ".concat(n.peer)),n.on("open",(function(){console.log("Connected!"),C(Object(s.a)({},y,{opponentPeer:n}))})),n.on("data",(function(e){console.log("Data from ".concat(n.peer,": ").concat(e)),e.value&&k(e.value,!0),e.bingo&&j(!0)})),n.on("close",(function(){console.log("Connection closed with: ".concat(n.peer)),console.log("Reconnecting..."),b.connect(n.peer)})),n.on("error",(function(e){return console.log("Connection Error with ".concat(n.peer,": ").concat(e))}))};return o.a.createElement(m.Provider,{value:{numberBucket:a,markValue:k,connectionState:y,joinToPeer:function(n){var e=b.connect(n);v(!1),z(e)},yourTurn:d,winnerStatus:h,callBingo:j}},n.children)},g=function(){return function(n){for(var e,t,r=n.length;r;)t=Math.floor(Math.random()*r--),e=n[r],n[r]=n[t],n[t]=e;return n}(Array.from(Array(25),(function(n,e){return{value:e+1,isMarked:!1}})))};function w(){var n=Object(u.a)(["\n  background-color: slategray;\n  color: white;\n  font-size: 2vw;\n  border: none;\n  text-align: center;\n\n  :focus {\n    outline: none;\n  }\n\n  :active {\n    background-color: white;\n    color: slategray;\n  }\n\n  @media (max-width: 768px) {\n    font-size: 6vw;\n  }\n"]);return w=function(){return n},n}function h(){var n=Object(u.a)(["\n      background-color: red;\n      color: white;\n    "]);return h=function(){return n},n}function O(){var n=Object(u.a)(["\n  background-color: slateblue;\n  color: white;\n  font-size: 2vw;\n  height: 5vw;\n  width: 5vw;\n  border: none;\n  text-align: center;\n\n  :focus {\n    outline: none;\n  }\n\n  :active {\n    background-color: white;\n    color: slateblue;\n  }\n\n  ",";\n\n  @media (max-width: 768px) {\n    height: 15vw;\n    width: 15vw;\n    font-size: 6vw;\n  }\n"]);return O=function(){return n},n}function j(){var n=Object(u.a)(["\n  margin: 5vw;\n  display: grid;\n  grid-template-columns: repeat(5, auto);\n  grid-template-rows: auto;\n  gap: 0.5vw;\n  place-content: center;\n  @media (max-width: 768px) {\n    gap: 2vw;\n  }\n"]);return j=function(){return n},n}function k(){var n=Object(u.a)(["\n  margin: 2vw;\n  font-size: 2vw;\n\n  @media (max-width: 768px) {\n    font-size: 6vw;\n    margin: 6vw;\n  }\n"]);return k=function(){return n},n}function E(){var n=Object(u.a)(["\n  text-align: center;\n  font-size: 2vw;\n  display: block;\n\n  @media (max-width: 768px) {\n    font-size: 6vw;\n  }\n"]);return E=function(){return n},n}function x(){var n=Object(u.a)(["\n  font-size: 2vw;\n  display: block;\n\n  @media (max-width: 768px) {\n    font-size: 6vw;\n  }\n"]);return x=function(){return n},n}function y(){var n=Object(u.a)(["\n  font-size: 2vw;\n  display: block;\n\n  @media (max-width: 768px) {\n    font-size: 6vw;\n  }\n"]);return y=function(){return n},n}function C(){var n=Object(u.a)([""]);return C=function(){return n},n}function z(){var n=Object(u.a)([""]);return z=function(){return n},n}function D(){var n=Object(u.a)(["\n  text-align: center;\n"]);return D=function(){return n},n}function S(){var n=Object(u.a)(["\n  text-align: center;\n"]);return S=function(){return n},n}function M(){var n=Object(u.a)(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n"]);return M=function(){return n},n}var B=d.b.div(M()),A=d.b.div(S()),P=d.b.div(D()),T=d.b.div(z()),Y=d.b.div(C()),I=d.b.div(y()),J=d.b.div(x()),W=d.b.input(E()),L=d.b.button(k()),N=d.b.div(j()),U=d.b.button(O(),(function(n){return n.isMarked&&Object(d.a)(h())})),V=d.b.button(w()),_=function(){var n=Object(r.useContext)(m),e=n.numberBucket,t=n.markValue,c=n.connectionState,a=n.joinToPeer,u=n.yourTurn,l=n.winnerStatus,d=n.callBingo,s=Object(r.useState)(""),v=Object(i.a)(s,2),b=v[0],p=v[1],g=Object(r.useState)(!0),w=Object(i.a)(g,2),h=w[0],O=w[1],j=Object(r.useState)(!1),k=Object(i.a)(j,2),E=k[0],x=k[1],y=!c.peer||!c.opponentPeer,C=e.reduce((function(n,e){return e.reduce((function(n,e){return n&&e.isMarked}),!0)?++n:n}),0)+e.reduce((function(n,e){return e.forEach((function(e,t){n[t]=n[t]&&e.isMarked?1:0})),n}),Array.from(Array(5),(function(){return 1}))).reduce((function(n,e){return n+e})),z=e.map((function(n){return n.map((function(n){var e=n.value,r=n.isMarked;return o.a.createElement(U,{key:e,disabled:r||!u,onClick:function(n){return n.preventDefault(),t(e)},isMarked:r},e)}))})),D=function(){f()(c.peer&&c.peer.id),x(!0)};return o.a.createElement(B,null,0===l&&"Draw",l<0&&"You Lost",l>0&&"You Won",o.a.createElement(P,{hidden:y||null!==l},o.a.createElement(J,null,u?"Your Turn":"Opponents Turn"),o.a.createElement(N,null,z),o.a.createElement(V,{onClick:function(n){n.preventDefault(),d()},hidden:C<5},"Bingo")),o.a.createElement(A,{hidden:!y},o.a.createElement(T,{hidden:!h},o.a.createElement(W,{value:b,onChange:function(n){return p(n.target.value)}}),o.a.createElement(L,{onClick:function(n){n.preventDefault(),a(b)}},"Join"),o.a.createElement("div",null,"or"),o.a.createElement(L,{onClick:function(n){n.preventDefault(),O(!1)}},"Create")),o.a.createElement(Y,{hidden:h},o.a.createElement(I,{onClick:D},c.peer&&c.peer.id||"Creating Id..."),o.a.createElement(L,{onClick:function(n){n.preventDefault(),O(!0)}},"Back"),o.a.createElement(L,{onClick:function(n){n.preventDefault(),D()}},E?"Copied":"Copy"))))};var F=function(){return o.a.createElement(p,null,o.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.573b5c28.chunk.js.map