(this.webpackJsonpbingo=this.webpackJsonpbingo||[]).push([[0],{18:function(n,e,t){n.exports=t(30)},23:function(n,e,t){},24:function(n,e,t){},27:function(n,e){function t(n){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id=27},30:function(n,e,t){"use strict";t.r(e);var r=t(0),o=t.n(r),c=t(10),a=t.n(c),u=(t(23),t(24),t(3)),i=t(1),l=t(11),f=t.n(l),d=t(2),s=t(4),b=t(6),v=t.n(b),m=t(12),p=t(13),w=t.n(p),g=t(17),h=new w.a,O=new g.a,j=Object(r.createContext)(),k=function(n){var e=E(),t=Object(r.useState)(Array.from(Array(5),(function(n,t){return Array.from(Array(5),(function(n,r){return e[5*t+r]}))}))),c=Object(u.a)(t,2),a=c[0],i=c[1],l=Object(r.useState)(!0),f=Object(u.a)(l,2),d=f[0],b=f[1],p=Object(r.useState)(null),w=Object(u.a)(p,2),g=w[0],k=w[1],x=function(){var n=Object(m.a)(v.a.mark((function n(){var e,t,r,o=arguments;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=o.length>0&&void 0!==o[0]&&o[0],n.next=3,O.acquire();case 3:t=n.sent;try{r=null===g?0:g,e?(console.log("from Opponent",r),k(r-1)):(console.log("from me",r),k(r+1),S.opponentPeer.send({bingo:!0}))}catch(c){console.log(c)}finally{t()}case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),y=function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?b(!0):(b(!1),S.opponentPeer.send({value:n}));var t=a.map((function(e){return e.map((function(e){return e.value===n&&(e.isMarked=!0),e}))}));i(t)},C=Object(r.useState)({peer:null,opponentPeer:null}),z=Object(u.a)(C,2),S=z[0],D=z[1];h.on("open",(function(n){console.log("Your peer ID is: ".concat(n)),D(Object(s.a)({},S,{peer:h}))})),h.on("disconnected",(function(){console.log("Disconnected from peer server"),D(Object(s.a)({},S,{peer:null}))})),h.on("connection",(function(n){return M(n)}));var M=function(n){console.log("Connecting to: ".concat(n.peer)),n.on("open",(function(){console.log("Connected!"),D(Object(s.a)({},S,{opponentPeer:n}))})),n.on("data",(function(e){console.log("Data from ".concat(n.peer,": ").concat(e)),e.value?y(e.value,!0):e.bingo&&x(!0)})),n.on("close",(function(){D(Object(s.a)({},S,{opponentPeer:null})),console.log("Connection closed with: ".concat(n.peer)),console.log("Reconnecting..."),h.connect(n.peer)})),n.on("error",(function(e){return console.log("Connection Error with ".concat(n.peer,": ").concat(e))}))};return o.a.createElement(j.Provider,{value:{numberBucket:a,markValue:y,connectionState:S,joinToPeer:function(n){var e=h.connect(n);b(!1),M(e)},yourTurn:d,winnerStatus:g,callBingo:x}},n.children)},E=function(){return function(n){for(var e,t,r=n.length;r;)t=Math.floor(Math.random()*r--),e=n[r],n[r]=n[t],n[t]=e;return n}(Array.from(Array(25),(function(n,e){return{value:e+1,isMarked:!1}})))};function x(){var n=Object(i.a)(["\n  background-color: red;\n  margin: 1vw;\n  color: white;\n  font-size: 2vw;\n  border: none;\n  border-radius: 1vw;\n  text-align: center;\n\n  :focus {\n    outline: none;\n  }\n\n  :active {\n    background-color: white;\n    color: slategray;\n  }\n\n  @media (max-width: 768px) {\n    font-size: 6vw;\n    margin: 3vw;\n    border-radius: 3vw;\n  }\n"]);return x=function(){return n},n}function y(){var n=Object(i.a)(["\n      background-color: red;\n    "]);return y=function(){return n},n}function C(){var n=Object(i.a)(["\n  background-color: #00a8e8;\n  color: #fbfffe;\n  height: 5vw;\n  width: 5vw;\n  border: none;\n  border-radius: 1vw;\n  text-align: center;\n  font-size: 2vw;\n\n  :focus {\n    outline: none;\n  }\n\n  :active {\n    background-color: #fbfffe;\n    color: #00a8e8;\n  }\n\n  ",";\n\n  @media (max-width: 768px) {\n    height: 15vw;\n    width: 15vw;\n    font-size: 6vw;\n    border-radius: 3vw;\n  }\n"]);return C=function(){return n},n}function z(){var n=Object(i.a)(["\n  margin: 2vw;\n  display: grid;\n  grid-template-columns: repeat(5, auto);\n  grid-template-rows: auto;\n  place-content: center;\n  gap: 0.5vw;\n\n  @media (max-width: 768px) {\n    gap: 2vw;\n  }\n"]);return z=function(){return n},n}function S(){var n=Object(i.a)(["\n      color: red;\n      background-color: #003459;\n    "]);return S=function(){return n},n}function D(){var n=Object(i.a)(["\n  ",";\n"]);return D=function(){return n},n}function M(){var n=Object(i.a)(["\n  background-color: #00a8e8;\n  color: #fbfffe;\n  margin: 2vw;\n  border: none;\n  border-radius: 1vw;\n  text-align: center;\n  font-size: 2vw;\n\n  :focus {\n    outline: none;\n  }\n\n  :hover {\n    cursor: pointer;\n  }\n\n  @media (max-width: 768px) {\n    margin: 6vw;\n    font-size: 6vw;\n    border-radius: 3vw;\n  }\n"]);return M=function(){return n},n}function A(){var n=Object(i.a)(["\n  display: block;\n  margin: auto;\n  background-color: #fbfffe;\n  border: 0.3vw solid #00a8e8;\n  border-radius: 1vw;\n  text-align: center;\n  font-size: 2vw;\n\n  :focus {\n    outline: none;\n  }\n\n  @media (max-width: 768px) {\n    font-size: 6vw;\n    border-width: 0.9vw;\n    border-radius: 3vw;\n  }\n"]);return A=function(){return n},n}function P(){var n=Object(i.a)(["\n      text-decoration: line-through;\n      color: red;\n    "]);return P=function(){return n},n}function B(){var n=Object(i.a)(["\n  ",";\n"]);return B=function(){return n},n}function I(){var n=Object(i.a)(["\n  display: flex;\n  justify-content: space-around;\n  color: #003459;\n  font-size: 2vw;\n\n  @media (max-width: 768px) {\n    font-size: 6vw;\n  }\n"]);return I=function(){return n},n}function T(){var n=Object(i.a)(["\n      color: red;\n    "]);return T=function(){return n},n}function R(){var n=Object(i.a)(["\n  display: block;\n  color: #003459;\n  font-size: 2vw;\n  font-weight: bold;\n\n  @media (max-width: 768px) {\n    font-size: 6vw;\n  }\n  ","\n"]);return R=function(){return n},n}function L(){var n=Object(i.a)(["\n  display: block;\n  font-size: 2vw;\n\n  :hover {\n    cursor: pointer;\n  }\n\n  @media (max-width: 768px) {\n    font-size: 6vw;\n  }\n"]);return L=function(){return n},n}function N(){var n=Object(i.a)([""]);return N=function(){return n},n}function Y(){var n=Object(i.a)([""]);return Y=function(){return n},n}function J(){var n=Object(i.a)(["\n  color: #003459;\n"]);return J=function(){return n},n}function W(){var n=Object(i.a)(["\n  text-align: center;\n"]);return W=function(){return n},n}function _(){var n=Object(i.a)(["\n        color: orange;\n      "]);return _=function(){return n},n}function q(){var n=Object(i.a)(["\n        color: red;\n      "]);return q=function(){return n},n}function G(){var n=Object(i.a)(["\n        color: #00a8e8;\n      "]);return G=function(){return n},n}function U(){var n=Object(i.a)(["\n  font-size: 6vw;\n  text-align: center;\n\n  ","\n"]);return U=function(){return n},n}function V(){var n=Object(i.a)(["\n  text-align: center;\n"]);return V=function(){return n},n}function F(){var n=Object(i.a)(["\n  min-height: 100vh;\n  background-color: #fbfffe;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n"]);return F=function(){return n},n}var $=d.b.div(F()),H=d.b.div(V()),K=d.b.div(U(),(function(n){return 1===n.status?Object(d.a)(G()):-1===n.status?Object(d.a)(q()):Object(d.a)(_())})),Q=d.b.div(W()),X=d.b.a(J()),Z=d.b.form(Y()),nn=d.b.div(N()),en=d.b.div(L()),tn=d.b.div(R(),(function(n){return n.yourTurn&&Object(d.a)(T())})),rn=d.b.div(I()),on=d.b.div(B(),(function(n){return n.strike&&Object(d.a)(P())})),cn=d.b.input(A()),an=d.b.button(M()),un=Object(d.b)(an)(D(),(function(n){return n.copied&&Object(d.a)(S())})),ln=d.b.div(z()),fn=d.b.button(C(),(function(n){return n.isMarked&&Object(d.a)(y())})),dn=d.b.button(x()),sn=function(){var n=Object(r.useContext)(j),e=n.numberBucket,t=n.markValue,c=n.connectionState,a=n.joinToPeer,i=n.yourTurn,l=n.winnerStatus,d=n.callBingo,s=Object(r.useState)(""),b=Object(u.a)(s,2),v=b[0],m=b[1],p=Object(r.useState)(!0),w=Object(u.a)(p,2),g=w[0],h=w[1],O=Object(r.useState)(!1),k=Object(u.a)(O,2),E=k[0],x=k[1],y=!c.peer||!c.opponentPeer,C=e.reduce((function(n,e){return e.reduce((function(n,e){return n&&e.isMarked}),!0)?++n:n}),0)+e.reduce((function(n,e){return e.forEach((function(e,t){n[t]=n[t]&&e.isMarked?1:0})),n}),Array.from(Array(5),(function(){return 1}))).reduce((function(n,e){return n+e}))+e.reduce((function(n,e,t){return n=n&&e[t].isMarked?1:0}),1)+e.reduce((function(n,e,t){return n=n&&e[4-t].isMarked?1:0}),1),z=e.map((function(n){return n.map((function(n){var e=n.value,r=n.isMarked;return o.a.createElement(fn,{key:e,disabled:r||!i,onClick:function(n){return n.preventDefault(),t(e)},isMarked:r},e)}))})),S=function(){f()(c.peer&&c.peer.id),x(!0)};return o.a.createElement($,null,o.a.createElement(K,{hidden:null===l,status:l},o.a.createElement("div",null,0===l&&"Draw \ud83e\udd2a",l<0&&"You Lost \ud83d\ude05",l>0&&"You Won \ud83d\ude01"),o.a.createElement(an,{onClick:function(n){n.preventDefault(),window.location.reload()}},"Play Again")),o.a.createElement(Q,{hidden:y||null!==l},o.a.createElement(rn,null,o.a.createElement(on,{strike:C>0},"B"),o.a.createElement(on,{strike:C>1},"I"),o.a.createElement(on,{strike:C>2},"N"),o.a.createElement(on,{strike:C>3},"G"),o.a.createElement(on,{strike:C>4},"O")),o.a.createElement(ln,null,z),o.a.createElement(tn,{yourTurn:i},i?"Your Turn":"Opponents Turn"),o.a.createElement(dn,{onClick:function(n){n.preventDefault(),d()},hidden:C<5},"CALL BINGO")),o.a.createElement(H,{hidden:!y||null!==l},o.a.createElement(Z,{hidden:!g,onSubmit:function(n){n.preventDefault(),a(v)}},o.a.createElement(cn,{value:v,placeholder:"Enter Room Id",required:!0,onChange:function(n){return m(n.target.value)}}),o.a.createElement(an,null,"Join"),o.a.createElement("div",null,"or"),o.a.createElement(an,{onClick:function(n){n.preventDefault(),h(!1)}},"Create And Share Id")),o.a.createElement(nn,{hidden:g},o.a.createElement(en,{onClick:S},c.peer&&c.peer.id||"Creating Id..."),o.a.createElement("div",{hidden:!E},"(Share Id with opponent and wait for them to join. Do not go back!)"),o.a.createElement(an,{onClick:function(n){n.preventDefault(),h(!0)}},"Back"),o.a.createElement(un,{copied:!!E,onClick:function(n){n.preventDefault(),S()}},E?"Copied":"Copy")),o.a.createElement(X,{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/RabiRoshan/bingo#instructions"},"Read Instructions")))};var bn=function(){return o.a.createElement(k,null,o.a.createElement(sn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(bn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.4870c173.chunk.js.map